# PMAT Quality Gates Configuration
# Manzana: Safe Rust Interfaces for Apple Hardware
# Mode: MEAN (Warnings = Errors)

[gates]
mode = "MEAN"
fail_fast = true

[coverage]
minimum = 95.0
fail_on_decrease = true
exclude_patterns = [
    "src/ffi/*",  # FFI code tested via integration tests
    "benches/*",
]

[mutation]
minimum_score = 80.0
tool = "cargo-mutants"
timeout_multiplier = 2.0
exclude_files = ["tests/**", "benches/**", "examples/**"]

[complexity]
max_cyclomatic = 15
max_cognitive = 20
max_nesting = 4

[documentation]
minimum = 80.0
public_items = 100.0
deny_missing_docs = true

[debt]
satd_allowed = false
patterns = ["TODO", "FIXME", "HACK", "XXX", "TEMP", "DEPRECATED"]

[unsafe]
audit_required = true
miri_clean = true
allow_in_ffi = true
ffi_path = "src/ffi"

[dependencies]
allow_unmaintained = false
deny_yanked = true
max_advisories = 0

[formatting]
enforce = true
tool = "rustfmt"

[linting]
clippy_warnings_as_errors = true
extra_lints = [
    "clippy::pedantic",
    "clippy::nursery",
]
